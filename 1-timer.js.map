{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet userSelectedDate;\n\nconst datetimeInput = document.querySelector('input#datetime-picker');\nconst startButton = document.querySelector('button');\n\nconst daysEl = document.querySelector('[data-days]');\nconst hoursEl = document.querySelector('[data-hours]');\nconst minutesEl = document.querySelector('[data-minutes]');\nconst secondsEl = document.querySelector('[data-seconds]');\n\nconst options = {\n\tenableTime: true,\n\ttime_24hr: true,\n\tdefaultDate: new Date(),\n\tminuteIncrement: 1,\n\tonClose(selectedDates) {\n\t\tif (selectedDates[0] < new Date()) {\n\t\t\tiziToast.error({\n\t\t\t\tbackgroundColor: '#ef4040',\n\t\t\t\tprogressBarColor: '#b51b1b',\n\t\t\t\toverlayColor: '#ffbebe',\n\t\t\t\ticonColor: '#ffffff',\n\t\t\t\ticon: 'fas fa-times',\n\t\t\t\ttitleColor: '#ffffff',\n\t\t\t\ttitle: 'Error',\n\t\t\t\tmessageColor: '#ffffff',\n\t\t\t\ttheme: 'dark',\n\t\t\t\tposition: 'topRight',\n\t\t\t\tmessage: 'Please choose a date in the future',\n\t\t\t});\n\t\t\tstartButton.disabled = true;\n\t\t} else {\n\t\t\tuserSelectedDate = selectedDates[0];\n\t\t\tstartButton.disabled = false;\n\t\t}\n\t},\n};\n\nflatpickr(datetimeInput, options);\n\nstartButton.addEventListener('click', () => {\n\tif (!userSelectedDate) {\n\t\treturn;\n\t}\n\tdatetimeInput.disabled = true;\n\tstartButton.disabled = true;\n\n\tsetInterval(() => {\n\t\tconst timeDifference = userSelectedDate - new Date();\n\n\t\tif (timeDifference <= 0) {\n\t\t\tdatetimeInput.disabled = false;\n\t\t\treturn;\n\t\t}\n\n\t\tconst time = convertMs(timeDifference);\n\t\tupdateTimerDisplay(time);\n\t}, 1000);\n});\n\nfunction convertMs(ms) {\n\t// Number of milliseconds per unit of time\n\tconst second = 1000;\n\tconst minute = second * 60;\n\tconst hour = minute * 60;\n\tconst day = hour * 24;\n\n\t// Remaining days\n\tconst days = Math.floor(ms / day);\n\t// Remaining hours\n\tconst hours = Math.floor((ms % day) / hour);\n\t// Remaining minutes\n\tconst minutes = Math.floor(((ms % day) % hour) / minute);\n\t// Remaining seconds\n\tconst seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n\treturn { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n\treturn String(value).padStart(2, '0');\n}\n\nfunction updateTimerDisplay({ days, hours, minutes, seconds }) {\n\tdaysEl.textContent = addLeadingZero(days);\n\thoursEl.textContent = addLeadingZero(hours);\n\tminutesEl.textContent = addLeadingZero(minutes);\n\tsecondsEl.textContent = addLeadingZero(seconds);\n}\n"],"names":["userSelectedDate","datetimeInput","startButton","daysEl","hoursEl","minutesEl","secondsEl","options","selectedDates","iziToast","flatpickr","timeDifference","time","convertMs","updateTimerDisplay","ms","days","hours","minutes","seconds","addLeadingZero","value"],"mappings":"+IAMA,IAAIA,EAEJ,MAAMC,EAAgB,SAAS,cAAc,uBAAuB,EAC9DC,EAAc,SAAS,cAAc,QAAQ,EAE7CC,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAY,SAAS,cAAc,gBAAgB,EAEnDC,EAAU,CACf,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CAClBA,EAAc,CAAC,EAAI,IAAI,MAC1BC,EAAS,MAAM,CACd,gBAAiB,UACjB,iBAAkB,UAClB,aAAc,UACd,UAAW,UACX,KAAM,eACN,WAAY,UACZ,MAAO,QACP,aAAc,UACd,MAAO,OACP,SAAU,WACV,QAAS,oCACb,CAAI,EACDP,EAAY,SAAW,KAEvBF,EAAmBQ,EAAc,CAAC,EAClCN,EAAY,SAAW,GAExB,CACF,EAEAQ,EAAUT,EAAeM,CAAO,EAEhCL,EAAY,iBAAiB,QAAS,IAAM,CACtCF,IAGLC,EAAc,SAAW,GACzBC,EAAY,SAAW,GAEvB,YAAY,IAAM,CACjB,MAAMS,EAAiBX,EAAmB,IAAI,KAE9C,GAAIW,GAAkB,EAAG,CACxBV,EAAc,SAAW,GACzB,MACA,CAED,MAAMW,EAAOC,EAAUF,CAAc,EACrCG,EAAmBF,CAAI,CACvB,EAAE,GAAI,EACR,CAAC,EAED,SAASC,EAAUE,EAAI,CAQtB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,CAEA,SAASC,EAAeC,EAAO,CAC9B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACrC,CAEA,SAASP,EAAmB,CAAE,KAAAE,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CAC9DhB,EAAO,YAAciB,EAAeJ,CAAI,EACxCZ,EAAQ,YAAcgB,EAAeH,CAAK,EAC1CZ,EAAU,YAAce,EAAeF,CAAO,EAC9CZ,EAAU,YAAcc,EAAeD,CAAO,CAC/C"}